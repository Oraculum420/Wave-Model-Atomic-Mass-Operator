
from math import sin, exp
import sys

def trapezoidal_integrate(func, a, b, args=(), steps=10000):
    h = (b - a) / steps
    result = 0.5 * (func(a, *args) + func(b, *args))
    for i in range(1, steps):
        result += func(a + i * h, *args)
    return result * h

def mass_operator(r, A0, k1, k2, gamma):
    return A0 * sin(k1 * r) * sin(k2 * r) * exp(-gamma * r)

def compute_mass(A0, k1, k2, gamma, R):
    return trapezoidal_integrate(mass_operator, 0, R, args=(A0, k1, k2, gamma))

mass_operator_data = {
    227: {'A0': 11021.506579207466, 'k1': 8.065237749546279, 'k2': 3.719473684210527, 'gamma': 0.6999473684210525, 'R': 4.606},
    27: {'A0': -3240.1752045126527, 'k1': 9.21451330049261, 'k2': 3.629750738916256, 'gamma': 0.6546, 'R': 3.0617},
    243: {'A0': 12006.56081195338, 'k1': 8.06544827586207, 'k2': 3.7184210526315793, 'gamma': 0.7454736842105263, 'R': 4.589},
    121: {'A0': 6427.007840081887, 'k1': 8.375862068965517, 'k2': 3.737873891625616, 'gamma': 0.6921842364532019, 'R': 4.434},
    40: {'A0': 4722.018992548068, 'k1': 8.887651653764955, 'k2': 3.5586664320900776, 'gamma': 0.6829034482758621, 'R': 3.478},
    75: {'A0': 4444.82537968143, 'k1': 8.561017593244195, 'k2': 3.7288881069669246, 'gamma': 0.6493103448275861, 'R': 3.999},
    210: {'A0': 10061.598367949711, 'k1': 8.04896551724138, 'k2': 3.7257172413793103, 'gamma': 0.6797586206896552, 'R': 4.621},
    138: {'A0': 6836.3991831792055, 'k1': 8.135430127041744, 'k2': 3.700105263157895, 'gamma': 0.6944736842105262, 'R': 4.567},
    247: {'A0': 12119.949119561004, 'k1': 8.076773139745915, 'k2': 3.7615789473684207, 'gamma': 0.7418421052631579, 'R': 4.586},
    9: {'A0': 1386.5942588525816, 'k1': 6.321351020408163, 'k2': 2.45325306122449, 'gamma': 0.4855235749472203, 'R': 2.519},
    209: {'A0': 9961.316878113896, 'k1': 8.048018148820326, 'k2': 3.7363520871143376, 'gamma': 0.6706842105263159, 'R': 4.624},
    270: {'A0': 13478.210411849748, 'k1': 8.0779881773399, 'k2': 3.733878817733991, 'gamma': 0.7916955665024631, 'R': 4.559},
    10: {'A0': 1150.568278034781, 'k1': 7.9598571428571425, 'k2': 2.614248979591837, 'gamma': 0.5464007037297679, 'R': 2.43},
    11: {'A0': -1817.0636706150692, 'k1': 7.328523715693174, 'k2': 2.595911470795215, 'gamma': 0.5206264367816092, 'R': 2.43},
    79: {'A0': 4662.550024190147, 'k1': 8.520594370161858, 'k2': 3.717850105559465, 'gamma': 0.6230689655172413, 'R': 4.02},
    114: {'A0': 6388.778579972741, 'k1': 8.427671921182265, 'k2': 3.724109359605911, 'gamma': 0.6948571428571428, 'R': 4.394},
    251: {'A0': 12424.583501189389, 'k1': 8.078016748768471, 'k2': 3.72816157635468, 'gamma': 0.7517822660098522, 'R': 4.58},
    12: {'A0': -2220.840595517868, 'k1': 7.602254609429979, 'k2': 2.671434904996482, 'gamma': 0.5659241379310345, 'R': 2.4702},
    140: {'A0': 9080.012961938122, 'k1': 8.097999999999999, 'k2': 3.744301270417423, 'gamma': 0.683, 'R': 4.61},
    133: {'A0': 6602.845084097925, 'k1': 8.255229556650246, 'k2': 3.755058128078818, 'gamma': 0.6862364532019705, 'R': 4.507},
    35: {'A0': 4855.055749481642, 'k1': 9.458225052779731, 'k2': 3.779433216045039, 'gamma': 0.631303448275862, 'R': 3.365},
    52: {'A0': 2848.9214617469547, 'k1': 9.418181140042226, 'k2': 3.802543701618579, 'gamma': 0.7014413793103448, 'R': 3.643},
    59: {'A0': 3656.8017904768417, 'k1': 9.132446164672766, 'k2': 3.5695665024630543, 'gamma': 0.7145517241379311, 'R': 3.748},
    285: {'A0': 14355.41061425785, 'k1': 8.077959605911328, 'k2': 3.721493596059113, 'gamma': 0.803856157635468, 'R': 4.548},
    63: {'A0': 6205.191858549923, 'k1': 8.23448008444757, 'k2': 3.9872654468684026, 'gamma': 0.6341586206896551, 'R': 3.882},
    281: {'A0': 14082.409455329896, 'k1': 8.076983666061704, 'k2': 3.730275862068965, 'gamma': 0.8017096188747732, 'R': 4.552},
    268: {'A0': 13386.962275933103, 'k1': 8.077816748768472, 'k2': 3.725431527093596, 'gamma': 0.7821891625615763, 'R': 4.564},
    164: {'A0': 9691.627623389864, 'k1': 7.998, 'k2': 3.701350272232305, 'gamma': 0.662, 'R': 4.666},
    252: {'A0': 12523.82780294164, 'k1': 8.078102463054186, 'k2': 3.7201142857142857, 'gamma': 0.7567251231527093, 'R': 4.577},
    166: {'A0': 8907.610676322538, 'k1': 7.968, 'k2': 3.6922323049001817, 'gamma': 0.654, 'R': 4.68},
    153: {'A0': 12302.844893525613, 'k1': 8.048, 'k2': 3.710315789473684, 'gamma': 0.67, 'R': 4.649},
    257: {'A0': 12796.42503133749, 'k1': 8.077759605911329, 'k2': 3.719828571428572, 'gamma': 0.7631024630541873, 'R': 4.574},
    289: {'A0': 14486.968121851827, 'k1': 8.077959605911328, 'k2': 3.739510344827586, 'gamma': 0.8142699507389162, 'R': 4.543},
    19: {'A0': 824.6841019254638, 'k1': 7.500158620689655, 'k2': 3.02282772695285, 'gamma': 0.671303448275862, 'R': 2.897},
    223: {'A0': 10769.637461683527, 'k1': 8.054568472906402, 'k2': 3.722787192118227, 'gamma': 0.693311330049261, 'R': 4.614},
    158: {'A0': 12362.658637232007, 'k1': 8.037999999999998, 'k2': 3.7066751361161527, 'gamma': 0.668, 'R': 4.654},
    69: {'A0': 7067.8017128897, 'k1': 8.235721463757915, 'k2': 3.9146788177339897, 'gamma': 0.6608896551724137, 'R': 3.977},
    74: {'A0': 12469.798873921844, 'k1': 7.907894299788881, 'k2': 3.570732019704433, 'gamma': 0.7000068965517241, 'R': 3.985},
    197: {'A0': 9244.409151114756, 'k1': 8.01648275862069, 'k2': 3.698, 'gamma': 0.664, 'R': 4.642},
    180: {'A0': 8369.258276838384, 'k1': 7.956352087114339, 'k2': 3.691793103448276, 'gamma': 0.6411578947368421, 'R': 4.682},
    277: {'A0': 13787.319588814333, 'k1': 8.078102463054186, 'k2': 3.746349753694581, 'gamma': 0.7967822660098522, 'R': 4.557},
    4: {'A0': -481.8591526303598, 'k1': 5.467010204081633, 'k2': 1.914061224489796, 'gamma': 0.431234693877551, 'R': 1.6755},
    165: {'A0': 8481.353230083676, 'k1': 7.978000000000001, 'k2': 3.700065335753176, 'gamma': 0.658, 'R': 4.671},
    1: {'A0': 4.984932547479036, 'k1': 12.347030612244897, 'k2': 13.979944897959184, 'gamma': 1.2756479591836734, 'R': 0.8414},
    115: {'A0': 5955.382806198287, 'k1': 8.44488472906404, 'k2': 3.796666009852217, 'gamma': 0.6890807881773399, 'R': 4.406},
    127: {'A0': 6593.695391322383, 'k1': 8.34143645320197, 'k2': 3.744656157635468, 'gamma': 0.6941389162561575, 'R': 4.455},
    193: {'A0': 9101.151239946048, 'k1': 8.0006039408867, 'k2': 3.732613793103448, 'gamma': 0.6544758620689656, 'R': 4.654},
    56: {'A0': 3375.9076842160853, 'k1': 9.173986629134411, 'k2': 3.536259394792399, 'gamma': 0.6128482758620689, 'R': 3.737},
    84: {'A0': 5002.158907034649, 'k1': 8.398338494018297, 'k2': 3.66815327234342, 'gamma': 0.652048275862069, 'R': 4.073},
    139: {'A0': 6716.855426737972, 'k1': 8.097999999999999, 'k2': 3.762174228675136, 'gamma': 0.683, 'R': 4.594},
    262: {'A0': 12990.685099917782, 'k1': 8.0790889292196, 'k2': 3.746196007259528, 'gamma': 0.7773974591651543, 'R': 4.568},
    208: {'A0': 9923.162090290403, 'k1': 8.041407881773399, 'k2': 3.7382472906403934, 'gamma': 0.6730463054187192, 'R': 4.627},
    6: {'A0': -140.3708651393422, 'k1': 6.010226530612245, 'k2': 1.9939316326530607, 'gamma': 0.4190234693877551, 'R': 2.59},
    7: {'A0': -227.29178991250467, 'k1': 6.387881632653061, 'k2': 2.119620408163265, 'gamma': 0.5157786066150598, 'R': 2.44},
    175: {'A0': 8686.453471178713, 'k1': 7.958, 'k2': 3.6911397459165154, 'gamma': 0.644, 'R': 4.684},
    24: {'A0': 960.8032677366398, 'k1': 8.112348346235045, 'k2': 3.3088454609429983, 'gamma': 0.6940620689655171, 'R': 3.057},
    55: {'A0': 3045.094438026191, 'k1': 9.255150316678396, 'k2': 3.864126812104152, 'gamma': 0.7198827586206896, 'R': 3.705},
    278: {'A0': 13805.96096172762, 'k1': 8.078073891625614, 'k2': 3.7573842364532015, 'gamma': 0.8012591133004927, 'R': 4.555},
    258: {'A0': 12837.98578686864, 'k1': 8.078102463054186, 'k2': 3.7255458128078818, 'gamma': 0.7677251231527094, 'R': 4.572},
    202: {'A0': 9598.460925436706, 'k1': 8.027500492610837, 'k2': 3.710489655172414, 'gamma': 0.6670679802955666, 'R': 4.636},
    98: {'A0': 6082.317524167323, 'k1': 8.351609852216749, 'k2': 3.7068679802955664, 'gamma': 0.6949428571428571, 'R': 4.327},
    142: {'A0': 10326.987017988504, 'k1': 8.078, 'k2': 3.7289945553539017, 'gamma': 0.678, 'R': 4.627},
    20: {'A0': 694.2657564478634, 'k1': 8.275710204081632, 'k2': 3.454640534834623, 'gamma': 0.661703448275862, 'R': 3.0055},
    237: {'A0': 11638.034873010116, 'k1': 8.063362561576355, 'k2': 3.72408078817734, 'gamma': 0.7321142857142857, 'R': 4.596},
    58: {'A0': 3906.2349540380433, 'k1': 9.051758339197749, 'k2': 3.4743038705137224, 'gamma': 0.6852206896551724, 'R': 3.775},
    286: {'A0': 14351.794067892672, 'k1': 8.075931034482757, 'k2': 3.7330344827586206, 'gamma': 0.8105825771324865, 'R': 4.546},
    93: {'A0': 5841.536586425417, 'k1': 8.47221379310345, 'k2': 3.744856157635468, 'gamma': 0.6835625615763548, 'R': 4.275},
    14: {'A0': -631.7812508463328, 'k1': 7.326606474313864, 'k2': 2.928027163969036, 'gamma': 0.586903448275862, 'R': 2.5582},
    259: {'A0': 12856.330144542875, 'k1': 8.078016748768471, 'k2': 3.738045320197044, 'gamma': 0.7736669950738916, 'R': 4.57},
    192: {'A0': 9166.668823453423, 'k1': 7.985372050816696, 'k2': 3.761157894736842, 'gamma': 0.6601052631578948, 'R': 4.66},
    16: {'A0': 793.0459293373782, 'k1': 8.060900351864884, 'k2': 3.2901752287121746, 'gamma': 0.6608620689655172, 'R': 2.6991},
    106: {'A0': 6186.314428038838, 'k1': 8.461954679802956, 'k2': 3.7171556650246314, 'gamma': 0.6877300492610838, 'R': 4.362},
    31: {'A0': 1132.2392880796929, 'k1': 7.785941871921182, 'k2': 3.655137086558761, 'gamma': 0.6843655172413793, 'R': 3.188},
    195: {'A0': 9175.81024418736, 'k1': 8.010660617059893, 'k2': 3.726312159709619, 'gamma': 0.6525045372050817, 'R': 4.649},
    244: {'A0': 12000.755860030687, 'k1': 8.063476847290639, 'k2': 3.72816157635468, 'gamma': 0.7399428571428571, 'R': 4.593},
    39: {'A0': 1520.430803581724, 'k1': 8.071766502463053, 'k2': 3.767615904292751, 'gamma': 0.5848068965517241, 'R': 3.4349},
    141: {'A0': 10498.290020997954, 'k1': 8.088, 'k2': 3.7327295825771327, 'gamma': 0.68, 'R': 4.622},
    145: {'A0': 11628.851030643786, 'k1': 8.068, 'k2': 3.719970961887477, 'gamma': 0.674, 'R': 4.637},
    231: {'A0': 11297.88063340212, 'k1': 8.063974591651542, 'k2': 3.7184210526315793, 'gamma': 0.717, 'R': 4.601},
    226: {'A0': 10902.505062682822, 'k1': 8.059491833030853, 'k2': 3.730392014519056, 'gamma': 0.6914664246823956, 'R': 4.612},
    222: {'A0': 10709.25493526184, 'k1': 8.063343012704173, 'k2': 3.734762250453721, 'gamma': 0.6913466424682395, 'R': 4.61},
    187: {'A0': 8728.660104142975, 'k1': 7.983687840290381, 'k2': 3.706007259528131, 'gamma': 0.6440526315789474, 'R': 4.666},
    103: {'A0': 6167.644409659429, 'k1': 8.444856157635467, 'k2': 3.7103733990147783, 'gamma': 0.6922699507389162, 'R': 4.343},
    282: {'A0': 14139.006120949816, 'k1': 8.077404718693284, 'k2': 3.7312558983666064, 'gamma': 0.8042431941923776, 'R': 4.55},
    85: {'A0': 6715.722708580954, 'k1': 7.827737508796623, 'k2': 3.681722308233638, 'gamma': 0.6909172413793103, 'R': 4.203},
    102: {'A0': 6105.76445902253, 'k1': 8.476004926108374, 'k2': 3.7208039408866993, 'gamma': 0.6910049261083743, 'R': 4.334},
    267: {'A0': 13227.783605787918, 'k1': 8.077845320197044, 'k2': 3.753189162561577, 'gamma': 0.7829822660098522, 'R': 4.566},
    152: {'A0': 12209.043818773804, 'k1': 8.058, 'k2': 3.7151433756805807, 'gamma': 0.672, 'R': 4.643},
    45: {'A0': 1421.3074192314368, 'k1': 7.867415904292751, 'k2': 3.8389542575650952, 'gamma': 0.656206896551724, 'R': 3.545},
    271: {'A0': 13573.817598630838, 'k1': 8.0779881773399, 'k2': 3.721322167487685, 'gamma': 0.7859083743842364, 'R': 4.561},
    80: {'A0': 7692.703850264435, 'k1': 8.355522167487685, 'k2': 3.878247572132301, 'gamma': 0.6751103448275861, 'R': 4.005},
    28: {'A0': 1039.89056545515, 'k1': 7.949786488388459, 'k2': 3.2630382828993665, 'gamma': 0.6599241379310344, 'R': 3.1224},
    107: {'A0': 5811.726895196006, 'k1': 8.495604355716877, 'k2': 3.775967332123412, 'gamma': 0.6895480943738658, 'R': 4.373},
    23: {'A0': 911.8892756220288, 'k1': 8.152750879662209, 'k2': 3.3332387051372274, 'gamma': 0.6957724137931034, 'R': 3.043},
    88: {'A0': 8262.81226946854, 'k1': 7.5396783954961295, 'k2': 3.6445462350457434, 'gamma': 0.5839379310344828, 'R': 4.219},
    32: {'A0': 1912.9780757240064, 'k1': 7.580136101337087, 'k2': 3.764996340605207, 'gamma': 0.5901586206896551, 'R': 3.261},
    181: {'A0': 8424.508667580536, 'k1': 7.957931034482759, 'k2': 3.699253201970443, 'gamma': 0.6416206896551724, 'R': 4.681},
    130: {'A0': 6845.678693342997, 'k1': 8.358706403940886, 'k2': 3.734568472906404, 'gamma': 0.6876443349753695, 'R': 4.445},
    159: {'A0': 12050.557678643769, 'k1': 8.027999999999999, 'k2': 3.703284936479129, 'gamma': 0.665, 'R': 4.659},
    205: {'A0': 9797.649449195576, 'k1': 8.027614778325121, 'k2': 3.69511527093596, 'gamma': 0.6728798029556651, 'R': 4.634},
    232: {'A0': 11312.48850245229, 'k1': 8.06544827586207, 'k2': 3.7184210526315793, 'gamma': 0.7087894736842105, 'R': 4.603},
    169: {'A0': 9530.461001479576, 'k1': 7.968, 'k2': 3.689052631578948, 'gamma': 0.652, 'R': 4.683},
    120: {'A0': 6554.642720837544, 'k1': 8.39330344827586, 'k2': 3.720832512315271, 'gamma': 0.6865527093596059, 'R': 4.42},
    48: {'A0': 1601.1336420368516, 'k1': 7.743828993666432, 'k2': 3.741677832512316, 'gamma': 0.6830413793103448, 'R': 3.59},
    184: {'A0': 8601.522456622943, 'k1': 7.975143842364532, 'k2': 3.699310344827586, 'gamma': 0.6473674876847291, 'R': 4.67},
    238: {'A0': 11669.964739930962, 'k1': 8.064185117967332, 'k2': 3.721157894736842, 'gamma': 0.7253157894736841, 'R': 4.598},
    51: {'A0': 10204.54773579435, 'k1': 8.847111189303307, 'k2': 3.5951942294159047, 'gamma': 0.6122827586206897, 'R': 3.57},
    132: {'A0': 6648.362066798625, 'k1': 8.324080788177339, 'k2': 3.775833497536946, 'gamma': 0.6933330049261084, 'R': 4.469},
    174: {'A0': 10039.250216835066, 'k1': 7.968, 'k2': 3.688, 'gamma': 0.648, 'R': 4.685},
    89: {'A0': 5541.271922469828, 'k1': 8.766554398311047, 'k2': 3.792216045038705, 'gamma': 0.5842, 'R': 4.227},
    64: {'A0': 6187.420889564485, 'k1': 8.562776213933851, 'k2': 3.950792821956369, 'gamma': 0.6811103448275861, 'R': 3.928},
    90: {'A0': 6441.417051368446, 'k1': 8.296389318122893, 'k2': 3.7613321234119774, 'gamma': 0.6843888514389421, 'R': 4.269},
}

def compute_mass_by_A(A):
    if A not in mass_operator_data:
        raise ValueError(f"Mass number {A} not found in operator database.")
    p = mass_operator_data[A]
    return compute_mass(p['A0'], p['k1'], p['k2'], p['gamma'], p['R'])

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python3 mass_tool_offline.py [MassNumber]")
        sys.exit(1)
    try:
        A = int(sys.argv[1])
        result = compute_mass_by_A(A)
        print(f"Computed mass for A={A}: {result}")
    except Exception as e:
        print(f"Error: {e}")
